<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="vendor/foundation.min.css">
    <link rel="stylesheet" href="layout.css">
    <script type="module">
      import "./main.js"
    </script>
    <title>Buy/sell Chiemgauer</title>
</head>
<body class="text-white bg-blue1">
<div class="grid-container full grid-y half-height">
    <div class="cell small-6
                    bg-orange1">
        <div class="grid-x  align-center-middle" style="height: 100%">
            <div class="cell small-11 medium-9 large-7">
                <form class="grid-x grid-margin-x margin-vertical-1">
                    <h5 class="cell auto">
                        Buy CMG
                    </h5>
                    <h5 class="cell shrink">
                        1 CMG = 1 DKK
                    </h5>

                    <div class="medium-12 cell">
                        <div class="input-group">
                            <label class="input-group-label">Address</label>
                            <input class="input-group-field token-recipient" type="text" value="0x51f8a5d539582eb9bf2f71f66bcc0e6b37abb7ca" tabindex="1"
                                   maxlength="42" minlength="42" size="42" required placeholder="Token recipient (address)">
                        </div>
                    </div>
                    <div class="medium-6 cell">
                        <div class="input-group">
                            <span class="input-group-label">DKK</span>
                            <input class="buy-amount-dkk input-group-field" type="number" max="2500" min="0" step="0.01" placeholder="Amount (DKK)" value="9.95" size="9" required tabindex="1">
                        </div>
                    </div>
                    <div class="medium-6 cell">
                        <div class="input-group">
                            <span class="input-group-label">CMG</span>
                            <input class="buy-amount-token input-group-field" type="number" max="2500" min="0" step="0.01" placeholder="Amount (CMG)" value="9.95" size="9" required tabindex="-1">
                        </div>
                    </div>
                    <div class="cell medium-12">
                        <button class="token-button primary button expanded bg-orange2 text-dark" tabindex="2" type="button">CONTINUE TO PAYMENT GATEWAY</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="cell small-6
                    bg-blue1">
        <div class="grid-x  align-center-middle" style="height: 100%">
            <!--hidden --><hr class="show-for-sr">
            <div class="cell small-11 medium-9 large-7">
                <form class="grid-x grid-margin-x margin-vertical-1">
                    <h5 class="cell auto">
                        Sell CMG
                    </h5>
                    <h5 class="cell shrink">
                        1 CMG = 0.95 DKK
                    </h5>

                    <div class="medium-12 cell">
                        <div class="input-group">
                            <label class="input-group-label">Address</label>
                            <input class="input-group-field token-recipient" type="text" value="0x51f8a5d539582eb9bf2f71f66bcc0e6b37abb7ca" tabindex="3"
                                   maxlength="42" minlength="42" size="42" required placeholder="Token recipient (address)">
                        </div>
                    </div>
                    <div class="medium-6 cell">
                        <div class="input-group">
                            <span class="input-group-label">CMG</span>
                            <input class="sell-amount-token input-group-field" tabindex="4" type="number" step="0.01" max="2500" min="0" placeholder="Amount (CMG)" value="20" size="9" required>
                        </div>
                    </div>
                    <div class="medium-6 cell">
                        <div class="input-group">
                            <span class="input-group-label">DKK</span>
                            <input class="sell-amount-dkk input-group-field" tabindex="-1" type="number" step="0.01" max="2500" min="0" placeholder="Amount (DKK)" value="19" size="9" required>
                        </div>
                    </div>
                    <div class="cell medium-12">
                        <button class="token-button primary button expanded bg-blue2 text-dark" type="button" tabindex="5">PLACE ORDER</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script src="https://checkout.stripe.com/checkout.js"></script>
<script type="module" src="./stripe-stuff.js"></script>
<script>
(async function fireOnStripeReady() {
  await Promise.all([
    new Promise(resolve => window.addEventListener('load', () => resolve(), {once: true})),
    new Promise(resolve => document.querySelector('[src="./stripe-stuff.js"').addEventListener('load', () => resolve(), {once: true})),
  ])
  const STRIPE_LOAD = 'STRIPE_LOAD'
  console.debug('2. fire '+ STRIPE_LOAD)
  window.dispatchEvent(new CustomEvent(STRIPE_LOAD))
})()
</script>

</body>
</html>